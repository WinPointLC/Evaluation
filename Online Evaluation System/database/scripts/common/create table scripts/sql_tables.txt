CREATE TABLE CLIENT_CATEGORY(
	CLIENT_CATEGORY_ID TINYINT IDENTITY(1,1) CONSTRAINT OES_CLIENT_CATEGORY_ID_PK PRIMARY KEY,
	CLIENT_CATEGORY_NAME VARCHAR(20),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE SECURITY_QUESTIONS(
	SECURITY_QUESTION_ID TINYINT IDENTITY(1,1) CONSTRAINT OES_SECURITY_QUESTION_ID_PK PRIMARY KEY,
	SECURITY_QUESTION VARCHAR(50),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE USER_CATEGORY(
	USER_CATEGORY_ID TINYINT IDENTITY(1,1) CONSTRAINT OES_USER_CATEGORY_ID_PK PRIMARY KEY,
	USER_CATEGORY_NAME VARCHAR(10),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)
CREATE TABLE EMP_CATEGORY(
	EMP_CATEGORY_ID TINYINT IDENTITY(1,1) CONSTRAINT OES_EMP_CATEGORY_ID_PK PRIMARY KEY,
	EMP_CATEGORY_NAME VARCHAR(20),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE USER_PROFILE(
	USERID INT IDENTITY(1,1) CONSTRAINT OES_USER_ID_PK PRIMARY KEY,
	FNAME VARCHAR(20),
	LNAME VARCHAR(20),
	EMAIL VARCHAR(100),
	MOB_NO VARCHAR(15),
	ADDRESS VARCHAR(200) CONSTRAINT OES_USER_PROFILE_ADDRESS_MAX_200_CHAR,
	BDAY DATE,
	COLLEGE VARCHAR(50),
	DEGREE VARCHAR(10),
	BRANCH VARCHAR(10),
	YEAR_OF_GRAD DATE,
	PHOTO IMAGE,
	PASSWORD VARCHAR(32) CONSTRAINT OES_USER_PROFILE_PASSWORD_MAX_32_CHAR,
	SECURITY_QUESTION_ID TINYINT FOREIGN KEY REFERENCES SECURITY_QUESTIONS,
	SECURITY_ANSWER VARCHAR(20),
	USER_CATEGORY_ID TINYINT FOREIGN KEY REFERENCES USER_CATEGORY(,
	OCCUPATION VARCHAR(20),
	DESIGNATION VARCHAR(20),
	DOMAIN VARCHAR(20),
	ROLE VARCHAR(20),
	EXPERIENCE TINYINT,
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE EVALUATION_TYPE(
	EVALUATION_TYPE_ID TINYINT IDENTITY(1,1) CONSTRAINT OES_EVALUATION_TYPE_ID_PK PRIMARY KEY,
	EVALUATION_TYPE_NAME VARCHAR(15),
	OFFLINE_CHECK VARCHAR(3) CHECK(IN('YES','NO')),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE STREAM(
	STREAM_ID TINYINT IDENTITY(1,1) CONSTRAINT OES_STREAM_ID_PK PRIMARY KEY,
	STREAM_NAME VARCHAR(20),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE COURSE_TYPE(
	COURSE_TYPE_ID TINYINT IDENTITY(1,1) CONSTRAINT OES_COURSE_TYPE_PK PRIMARY KEY,
	COURSE_TYPE_NAME VARCHAR(10),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE DIFFICULTY_LEVEL(
	DIFFICULTY_LEVEL_ID TINYINT IDENTITY(1,1) CONSTRAINT OES_DIFFICULTY_LEVEL_ID_PK PRIMARY KEY,
	DIFFICULTY_LEVEL_NAME VARCHAR(10),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE EMPLOYEE_DETAILS(
	USERID INT FOREIGN KEY REFERENCES USER_PROFILE,
	SALARY DECIMAL(8,2),
	DATE_OF_JOINING DATE,
	EMP_CATEGORY_ID TINYINT FOREIGN KEY REFERENCES EMP_CATEGORY,
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE FACULTY_SKILLS(
	USERID INT FOREIGN KEY REFERENCES USER_PROFILE,
	SKILL_SET VARCHAR(50),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE USER_STUDENT(
	USERID INT FOREIGN KEY REFERENCES USER_PROFILE,
	PARENT_NAME VARCHAR(20),
	PARENT_MOB VARCHAR(15),
	CLIENT_CATEGORY_ID TINYINT FOREIGN KEY REFERENCES CLIENT_CATEGORY,
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE FEEDBACK_QUESTIONS(
	FBQ_ID TINYINT IDENTITY(1,1) CONSTRAINT OES_FBQ_ID_PK PRIMARY KEY,
	FB_Q VARCHAR(200),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE RULES(
	RULES_ID TINYINT IDENTITY(1,1) CONSTRAINT OES_RULE_ID_PK PRIMARY KEY,
	RULE_DESCRIPTION VARCHAR(200),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE GRADING_SYSTEM(
	GRADE_ID TINYINT IDENTITY(1,1) CONSTRAINT OES_GRADE_ID_PK PRIMARY KEY,
	MARKS_LOWER_LIMIT SMALLINT,
	MARKS_HIGHER_LIMIT SMALLINT,
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE TOOL_TIPS(
	TOOL_TIP_ID TINYINT IDENTITY(1,1) CONSTRAINT OES_TOOL_TIP_ID_PK PRIMARY KEY,
	COURSE_TYPE_ID TINYINT FOREIGN KEY REFERENCES COURSE_TYPE,
	TOOL_TIP_DESCRIPTION VARCHAR(200),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE COURSES(
	COURSE_ID SMALLINT IDENTITY(1,1) CONSTRAINT OES_COURSE_ID_PK PRIMARY KEY,
	COURSE_NAME VARCHAR(20),
	DURATION SMALLINT,
	FEES DECIMAL(7,2),
	STREAM_ID TINYINT FOREIGN KEY REFERENCES STREAM,
	COURSE_TYPE_ID TINYINT FOREIGN KEY REFERENCES COURSE_TYPE,
	COURSEWARE_EXIST VARCHAR(3) CHECK(IN('YES','NO')),
	EVALUATION_TYPE_ID TINYINT FOREIGN KEY REFERENCES EVALUATION_TYPE,
	TOTAL_TESTS TINYINT,
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE TOPICS(
	TOPIC_ID SMALLINT IDENTITY(1,1) CONSTRAINT OES_TOPIC_ID_PK PRIMARY KEY,
	COURSE_ID SMALLINT FOREIGN KEY REFERENCES COURSES,
	TOPIC_NAME VARCHAR(50),
	MIN_NO_OF_QUESTIONS_FOR_TEST TINYINT,
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE TEST_DETAILS(
	TEST_ID VARCHAR(20) CONSTRAINT OES_TEST_ID_PK PRIMARY KEY,
	COURSE_ID SMALLINT FOREIGN KEY REFERENCES COURSES,
	TEST_NO TINYINT,
	TOTAL_QUESTIONS TINYINT,
	TEST_FEES DECIMAL(6,2),
	NEGATIVE_MARKING VARCHAR(3) CHECK(IN('YES','NO')),
	RULES VARCHAR(50),
	EVALUATION_TYPE_ID TINYINT FOREIGN KEY REFERENCES EVALUATION_TYPE,
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE USER_TEST_DETAILS(
	USER_TEST_ID VARCHAR(50) CONSTRAINT OES_USER_TEST_ID_PK PRIMARY KEY,
	USERID INT FOREIGN KEY REFERENCES USER_PROFILE,
	TEST_ID VARCHAR(20) FOREIGN KEY REFERENCES TEST_DETAILS,
	MARKS_RECEIVED SMALLINT,
	NO_OF_REGISTRATION TINYINT IDENTITY (1,1),
	FEE_STATUS VARCHAR(10) CONSTRAINT TEST_FEES_PAID_NOTPAID CHECK(IN('PAID','NOT_PAID')),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

/*CREATE TABLE TECHNICAL_QUESTION_BANK(
	TECH_Q_ID INT IDENTITY(1,1) CONSTRAINT OES_QB_Q_ID_PK PRIMARY KEY,
	COURSE_ID SMALLINT FOREIGN KEY REFERENCES COURSES,
	QUESTION VARCHAR(MAX), 
	OPTION_1 VARCHAR(200),
	OPTION_2 VARCHAR(200),
	OPTION_3 VARCHAR(200),
	OPTION_4 VARCHAR(200),
	CORRECT_OPTION VARCHAR(10),
	TOTAL_MARKS SMALLINT,
	EXPLANATION VARCHAR(500),
	TOPIC_ID SMALLINT FOREIGN KEY REFERENCES TOPICS(TOPIC_ID),
	DIFFICULTY_LEVEL_ID TINYINT FOREIGN KEY REFERENCES DIFFICULTY_LEVEL(DIFFICULTY_LEVEL_ID),
	IN_CRT VARCHAR(3) CHECK(IN('YES','NO')),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)*/

CREATE TABLE BATCH_DETAILS(
	BATCH_ID VARCHAR(10) CONSTRAINT OES_BATCH_ID_PK PRIMARY KEY,
	COURSE_ID SMALLINT FOREIGN KEY REFERENCES COURSES(COURSE_ID),
	USERID INT FOREIGN KEY REFERENCES USER_PROFILE(USERID),
	BEGIN_DATE DATE,
	END_DATE DATE,
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE TEST_DIFFICULTY(
	TEST_ID VARCHAR(20) FOREIGN KEY REFERENCES TEST_DETAILS,
	TOPIC_ID SMALLINT FOREIGN KEY REFERENCES TOPICS,
	DIFFICULTY_LEVEL_ID TINYINT FOREIGN KEY REFERENCES DIFFICULTY_LEVEL,
	NO_OF_QUESTIONS SMALLINT,
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE STUDENT_BATCH_DETAILS(
	USERID INT FOREIGN KEY REFERENCES USER_PROFILE,
	BATCH_ID VARCHAR(10) FOREIGN KEY REFERENCES BATCH_DETAILS,
	FEEDBACK_GIVEN VARCHAR(3) CHECK(IN('YES','NO')),
	CERTIFICATE_GIVEN VARCHAR(3) CHECK(IN('YES','NO')),
	COURSE_AGGR SMALLINT,
	GRADE_ID TINYINT FOREIGN KEY REFERENCES GRADING_SYSTEM,
	FEE_STATUS VARCHAR(10) CHECK(IN('PAID','NOT_PAID')),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

CREATE TABLE COURSE_FEEDBACK(
	USERID INT FOREIGN KEY REFERENCES USER_PROFILE,
	COURSE_ID SMALLINT FOREIGN KEY REFERENCES COURSES,
	FBQ_ID TINYINT FOREIGN KEY REFERENCES FEEDBACK_QUESTIONS,
	RESPONSE VARCHAR(150),
	MARK_FOR_REVIEW VARCHAR(3) CHECK(IN('YES','NO')),
	CREATED_BY INT,
	CREATED_DATE DATETIME 
)
 CREATE TABLE TEST_FEEDBACK(
	USER_TEST_ID VARCHAR(50) FOREIGN KEY REFERENCES USER_TEST_DETAILS(USER_TEST_ID),
	FBQ_ID TINYINT FOREIGN KEY REFERENCES FEEDBACK_QUESTIONS(FBQ_ID),
	RESPONSE VARCHAR(100),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)

/*CREATE TABLE STUDENT_TEST_RESULT_C(
	USER_TEST_ID INT FOREIGN KEY REFERENCES USER_TEST_DETAILS(USER_TEST_ID),
	Q_NO SMALLINT,
	TECH_Q_ID INT FOREIGN KEY REFERENCES TECHNICAL_QUESTION_BANK(TECH_Q_ID),
	STUDENT_RESPONSE VARCHAR(10),
	IS_CORRRECT VARCHAR(3) CHECK(IN('YES','NO')),
	CREATED_BY INT,
	CREATED_DATE DATETIME
)/*